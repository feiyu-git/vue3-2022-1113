## 前端优化常用方法



#### 1、图片文件合理的优化方式

> - 小图标使用 `SVG` 或者字体图标
> - 通过 `base64` 和 `webp`  的方式加载小型图片
> - 能通过cdn加速的大图尽量用cdn
> - 大部分框架都带有懒加载的图片
> - 图片尺寸尽量处理到跟需求尺寸近似(减小资源大小)【必要的情况下：图片资源准备一个预览图(小图片)、一个原图(用于放大展示)】，不要使用缩放图片



#### 2、路由懒加载



#### 3、v-for 和 v-if 不要同时使用

> `vFor` 的优先级其实是比 `vIF` 高的，所以当两个指令出现来一个DOM中，那么 `vFor` 渲染的当前列表，每一次都需要进行一次 `vIf` 的判断。



#### 4、UI 框架按需引入

> 比如项目中使用了 element UI 应该按需引入



#### 5、首屏加载优化

> 众所周知，第一次打开Vue的时候，如果你的项目够大，那么首次加载资源时，会非常的久。由于资源没有加载完毕，界面的DOM也不会渲染，会造成白屏的问题。
>
> 解决方案：
>
> 1、加个 loading 告诉用户正在加载
>
> 2、图片懒加载



#### 6、GZIP

> 这个东西需要后端进行配置，当然，如果你有操作 `Nginx` 的权限的话，那么可以自己开启，反正我认为，这个东西提升还是很大的。



#### 7、代码压缩

> 减小资源大小



#### 8、webpack 优化

> - 打包公共代码
> - 动态导入和按需加载
> - 剔除无用代码



#### 9、减少 HTTP请求数

> - 雪碧图
> - 合理设置 HTTP缓存 （keep-alive）



#### 10、js 脚本和 CSS 优化

> 从页面中分离 js 和 CSS 文件，CSS 文件放在顶部，js 脚本放在底部。

> ##### [为什么将 CSS 放在顶部，js 脚本放在底部？](https://blog.csdn.net/qq_33505829/article/details/103419143)
>
> 当我们在浏览器输入URL 时，浏览器会返回我们一个HTML文档，将文档下载下来后，便开始从上到下开始解析。解析完成之后就会生成DOM。如果页面中有css,会根据css的内容生成cssom, 然后DOM会和cssom结合生成一个渲染树，最后浏览器会根据渲染树的内容，计算出各个节点的大小和位置绘制在页面上。
>
> js 会阻碍浏览器的解析，解析遇到js会停止渲染，优先去加载或者执行js,处理完毕后再继续渲染。
>
> 如果，js脚本标签前面有link样式链接，js会等样式加载和解析完毕才会执行JS。

